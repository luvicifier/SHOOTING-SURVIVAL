<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Shooting Typing Game</title>
<style>
  body {
    background: #121212;
    color: white;
    font-family: monospace, monospace;
    margin: 0;
    overflow: hidden;
  }
  #game {
    position: relative;
    width: 800px;
    height: 400px;
    margin: 40px auto;
    background: #222;
    border: 3px solid #444;
    overflow: hidden;
    border-radius: 8px;
  }
  .enemy {
    position: absolute;
    top: 0;
    background: #e74c3c;
    padding: 5px 10px;
    border-radius: 4px;
    font-weight: bold;
    user-select: none;
    white-space: nowrap;
  }
  #inputBox {
    display: block;
    margin: 20px auto;
    width: 800px;
    font-size: 20px;
    padding: 10px;
    border-radius: 8px;
    border: none;
    outline: none;
    box-sizing: border-box;
  }
  #score {
    text-align: center;
    margin-top: 10px;
    font-size: 24px;
  }
</style>
</head>
<body>

<div id="game"></div>
<input id="inputBox" type="text" placeholder="Type to shoot..." autofocus />
<div id="score">Score: 0</div>

<script>
(() => {
  const gameEl = document.getElementById('game');
  const inputBox = document.getElementById('inputBox');
  const scoreEl = document.getElementById('score');

  const GAME_WIDTH = 800;
  const GAME_HEIGHT = 400;

  let score = 0;

  // Words for enemies
  const words = [
    'code', 'javascript', 'html', 'css', 'function', 'variable',
    'object', 'array', 'loop', 'event', 'document', 'window',
    'style', 'element', 'browser', 'console', 'debug', 'script',
    'string', 'number', 'boolean', 'null', 'undefined', 'let', 'const',
    'return', 'if', 'else', 'for', 'while', 'break', 'continue',
  ];

  // Enemy class
  class Enemy {
    constructor(word, x, y, speed) {
      this.word = word;
      this.x = x;
      this.y = y;
      this.speed = speed; // pixels per frame
      this.el = document.createElement('div');
      this.el.classList.add('enemy');
      this.el.textContent = word;
      gameEl.appendChild(this.el);
      this.updatePosition();
    }
    updatePosition() {
      this.el.style.transform = `translate(${this.x}px, ${this.y}px)`;
    }
    move() {
      this.y += this.speed;
      this.updatePosition();
    }
    remove() {
      gameEl.removeChild(this.el);
    }
  }

  let enemies = [];

  // Spawn new enemy every 1.5 seconds
  function spawnEnemy() {
    const word = words[Math.floor(Math.random() * words.length)];
    const x = Math.random() * (GAME_WIDTH - 100);
    const y = -30;
    const speed = 1 + Math.random() * 1.5; // 1 to 2.5 px/frame
    const enemy = new Enemy(word, x, y, speed);
    enemies.push(enemy);
  }

  // Game loop
  function gameLoop() {
    // Move enemies
    enemies.forEach((enemy, i) => {
      enemy.move();
      // Check if enemy reached bottom
      if (enemy.y > GAME_HEIGHT) {
        // Game over
        alert(`Game Over! Your score: ${score}`);
        resetGame();
      }
    });

    requestAnimationFrame(gameLoop);
  }

  // Check input to shoot enemies
  inputBox.addEventListener('input', e => {
    const typed = e.target.value.trim();
    if (typed === '') return;

    // Find enemy matching typed word
    for (let i = 0; i < enemies.length; i++) {
      if (enemies[i].word === typed) {
        // Destroy enemy
        enemies[i].remove();
        enemies.splice(i, 1);
        score++;
        scoreEl.textContent = `Score: ${score}`;
        inputBox.value = '';
        return;
      }
    }
  });

  // Reset game
  function resetGame() {
    enemies.forEach(enemy => enemy.remove());
    enemies = [];
    score = 0;
    scoreEl.textContent = `Score: ${score}`;
    inputBox.value = '';
  }

  // Start spawning enemies
  setInterval(spawnEnemy, 1500);

  // Start game loop
  gameLoop();

})();
</script>

</body>
</html>
